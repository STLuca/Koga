parser composite;

structures {
    core.Int;
    core.Proxy;
    core.InterfaceReference;
    core.Pointer;
    core.While;
    core.Boolean;
}

documents {
    collection.List;
    collection.ListAccessor;
}

collection.ListIterator<Structure T> {

    constructor(InterfaceReference<List> listRef, Block b) {
        InterfaceReference<ListAccessor> accessor;
        Pointer<InterfaceReference> accessorPtr (accessor);
        listRef accessor(accessorPtr);
        T element;
        Pointer<T> elementPtr (element);
        Int size;
        Pointer<Int> sizePtr (size);
        accessor size (sizePtr);
        Int index 0;
        Boolean isNotEnd { index != size; };
        While (isNotEnd) {
            accessor index (index);
            accessor get (elementPtr);
            Block b;
            index + 1;
            isNotEnd = { index != size; };
        };
    }

}
