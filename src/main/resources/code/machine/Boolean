parser machineComposite;

core.Boolean {
                
    Byte[1] val;

    constructor(b1 imm) {
        i(ADD, II, LDA, val, I, 0d0, L, imm);
    }

    constructor(Block block) {
        Context(PUSH);
        Block block;
        Context(POP);
    }

    set(b1 imm) {
        i(ADD, II, LDA, val, I, 0d0, L, imm);
    }

    set(Block block) {
        Context(PUSH);
        Block block;
        Context(POP);
    }

    and(Block block) {
        Addr end;
        cb(EQ, TI, LDA, val, I, 0d0, end);
        Context(PUSH);
        Block block;
        Context(POP);
        Addr end;
    }

    or(Block block) {
        Addr end;
        cb(EQ, TI, LDA, val, I, 0d1, end);
        Context(PUSH);
        Block block;
        Context(POP);
        Addr end;
    }

}