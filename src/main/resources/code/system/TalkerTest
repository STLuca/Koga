parser host;

usables {
    core.InputStream;
    core.OutputStream;
    core.Int;
    core.Pointer;
    core.AdminRef;
    core.Boolean;
    core.While;
    core.String;
    core.Exit;
    core.Connection;
    core.Reference;
}

documents {
    util.SimpleAdministrator;
    chatting.Chat;
    chatting.Chatting;
}

test.TalkerTest {

    main() {
        AdminRef admin init();

        Int instance 1;
        Connection conn connect(instance, Chatting, chat);

        Reference<Chat> chat new();
        chat asClient(conn);
        String str "hello server";
        chat write(str);
        String result;
        Pointer<String> resultPtr (result);
        chat read(resultPtr);

        Exit;
    }

}