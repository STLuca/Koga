parser machineComposite;

structures {
    core.Int;
    core.Boolean;
}

core.While {

    Addr start;
    Addr end;

    constructor(Int bool, Block loop) {
        Addr start;
        cb(EQ, TI, P, bool.val, I, 0d0, end);
        Block loop;
        j(REL, I, start);
        Addr end;
    }

    constructor(Boolean bool, Block loop) {
        Addr start;
        cb(EQ, TI, P, bool.val, I, 0d0, end);
        Block loop;
        j(REL, I, start);
        Addr end;
    }

    constructor loop(Block loop) {
        Addr start;
        Block loop;
        j(REL, I, start);
        Addr end;
    }

    continue() {
        j(REL, I, start);
    }

    break() {
        j(REL, I, end);
    }

}